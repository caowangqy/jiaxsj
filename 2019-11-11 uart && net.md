---
title:  uart && net
tags: 新建,模板,小书匠
renderNumberedHeading: true
grammar_cjkRuby: true
---


欢迎使用 **{小书匠}(xiaoshujiang)编辑器**，您可以通过 `小书匠主按钮>模板` 里的模板管理来改变新建文章的内容。

1、uart  框图
![enter description here](https://raw.githubusercontent.com/caowangqy/jiaxsj-tu/master/小书匠/1573451207572.png)
    关键寄存器：
     THR -》 TBR
	 RSR-》RBR
	 LCR   配置数据位，停止位已经空闲位
	 LSR   查看是否已经发送ok
	 MCR   设置硬件流控，比如AFC，RTS，CTS
	 MSR
	 
	 查看是否已经发送完毕	 
	 while(!(uart_registers->LSR &0x40u){
	     uart_delay_cycles(10000);
	 }
	 
	 一般使用轮询方式来发送字符
	 
	 第一步：
	 设置LCR，进入设置dividor模式，根据波特率来设置
	 
	 第二步：
	 设置LCR，设置发送时候的数据位，停止位等关键信息
	 
	 第三步：
	 采用轮询方式，来发送数据
	 
	 
2、net框图
      https://www.cnblogs.com/wangdgy/p/11834283.html
	  采用面向对象的方法

3、SGMII
     SERDES包含SER部分，DES部分，它的旁边还有CDR（时钟恢复电路）
	 软件配置的话，先配置好sgmii的参数，比如adviseAbility（0x9801），rxConfig，txConfig，auxConfig（pll cfg 0x81），然后把他配置进入serdes模块
	 最后使用bootp要到版本即可
	 

      
     
	 
	 